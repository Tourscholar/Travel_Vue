<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Vue中的JS动画与velocity.js</title>
        <script src="./vue.js"></script>
        <script src="./velocity.js"></script>
    </head>
    <body>

        <div id="app">
            <transition 
                name="fade"
                @before-enter="handleBeforeEnter"
                @enter="handleEnter"
                @after-enter="handleAfterEnter"
            >
                <div v-show="show">
                    Hello World
                </div>
            </transition>
            <button @click="handleClick">toggle</button>
        </div>

        <script>
            var app = new Vue({
                el: '#app',
                data: {
                    show: true
                },
                methods: {
                    handleClick: function() {
                        this.show = !this.show
                    },
                    handleBeforeEnter: function(el) {
                        el.style.opacity = 0
                        // el.style.color = "red"
                    },
                    handleEnter: function(el, done) {
                        Velocity(el, {
                            opacity: 1
                        }, {
                            duration: 1000,
                            complete: done
                        })
                        /* setTimeout(() => {
                            el.style.color = "green"
                        }, 2000)
                        setTimeout(() => {
                            done()
                        }, 4000)
                        */
                    }, 
                    handleAfterEnter: function(el) {
                        alert("done")
                        // el.style.color = "black"
                    }
                }
            })
        </script>
    </body>
</html>