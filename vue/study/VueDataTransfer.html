<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>父子组件传值</title>
        <script src="./vue.js"></script>
    </head>
    <body>

        <div id="app">
            <counter :count="2" @inc="handleIncrease"></counter>
            <counter :count="3" @inc="handleIncrease"></counter>
            <div>{{total}}</div>
        </div>

        <script>

            var counter = {
                props: ['count'],
                data: function() {
                    return {
                        number: this.count
                    }
                },
                template: "<div @click='handleClick'>{{number}}</div>",
                methods: {
                    // 父组件可以传值给子组件，子组件不能修改父组件数据的值 
                    // 可以定义一个data创建父组件值的副本进行修改
                    handleClick: function() {
                        this.number += 2
                        this.$emit('inc', 2)
                    }
                }
            }

            var app = new Vue({
                el: '#app',
                data: {
                    total: 5
                },
                components: {
                    counter: counter
                },
                methods: {
                    handleIncrease: function(step){
                        this.total += step
                    }
                }
            })
        </script>
    </body>
</html>